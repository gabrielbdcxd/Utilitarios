<?xml version="1.0" encoding="UTF-8"?>
<theme name="Default" author_name="Invision Power Services, Inc" author_url="http://invision-virus.com">
 <template template_group="blocks" template_name="pluginSelector" template_data="$plugins, $id, $action, $elements, $hiddenValues, $actionButtons, $uploadField, $formClass='', $attributes=array(), $sidebar=''" template_location="admin" template_app="cms"><![CDATA[<div class='acpBlock'>
	<form accept-charset='utf-8' action="{$action}" method="post">
	<input type="hidden" name="{$id}_submitted" value="1">
	{{foreach $hiddenValues as $k => $v}}
		<input type="hidden" name="{$k}" value="{$v}">
	{{endforeach}}
	{{if $uploadField}}
		<input type="hidden" name="MAX_FILE_SIZE" value="{$uploadField}">
	{{endif}}

	<div class='ipsPad ipsAreaBackground_dark ipsClearfix ipsClear'>{lang="content_block_plugin_select"}</div>
	<div class='acpFormTabContent'>
		<div class="ipsTabs_panel">
			<ul class='ipsForm ipsForm_horizontal'>
				{{foreach $plugins as $app => $data}}
					{{foreach $data as $key => $obj}}
						<li class='ipsFieldRow ipsPad_half ipsClearfix'>
							<div class='ipsFieldRow_title'>
								{$obj->title}
								<span class='ipsBadge {{if $obj->type === 'feed'}}ipsBadge_style2{{else}}ipsBadge_style7{{endif}}'>{lang='content_block_type_{$obj->type}'}</span>
							</div>
							<div class='ipsFieldRow_content'>
								<input id='elField_block_plugin' type="radio" role="radio" name="block_plugin" value="{$app}__{$obj->key}" />
								<span class='ipsFieldRow_desc'>
									{$obj->description|raw}
								</span>
							</div>
						</li>
						{{if $obj->type === 'feed'}}
							{{foreach $obj->contentTypes as $key => $lang }}
								<li class='ipsFieldRow ipsPad_half ipsClearfix'>
									<div class='ipsFieldRow_title'>
										&nbsp;
									</div>
									<div class='ipsFieldRow_content'>
										<input id='elField_block_plugin' type="radio" role="radio" name="contentType_{$app}__{$obj->key}" value="$key" /> {$lang}
										<span class='ipsFieldRow_desc'>
											@todo this should be hidden until parent radio selected
										</span>
									</div>
								</li>
							{{endforeach}}
						{{endif}}
					{{endforeach}}
				{{endforeach}}
			</ul>
		</div>
		<div class="ipsAreaBackground_light ipsClearfix ipsPad ipsType_center">
			{template="button" app="core" location="global" group="forms" params="'next', 'submit', null, 'ipsButton ipsButton_primary'"}
		</div>
	</div>
	</form>
</div>]]></template>
 <template template_group="blocks" template_name="previewBlock" template_data="" template_location="admin" template_app="cms"><![CDATA[<li class="ipsFieldRow">
	<div id="elPages_block_preview_wrapper">
		<iframe class='loading' src='{url="app=cms&module=pages&controller=builder&do=previewBlock" base="front"}' data-base-url="{url="app=cms&module=pages&controller=builder&do=previewBlock" base="front"}" frameborder="0" name="elpages_block_preview" id="elpages_block_preview"></iframe>
	</div>
	<div class="ipsPos_right">
		<span data-role="refreshPreview" class="ipsButton ipsButton_light ipsButton_small">{lang="cms_block_preview_refresh"}</span>
	</div>
	<br />
	<br />
<li>]]></template>
 <template template_group="blocks" template_name="previewTemplateLink" template_data="$plugin" template_location="admin" template_app="cms"><![CDATA[<span data-role="viewTemplate" data-plugin="{$plugin}" class='ipsButton ipsButton_light ipsButton_verySmall'>{lang="cms_block_view_template"}</span>]]></template>
 <template template_group="databases" template_name="downloadDialog" template_data="$database" template_location="admin" template_app="cms"><![CDATA[<div class='ipsBox ipsPad'>
	<i class="fa fa-download ipsAlert_icon"></i>
	{lang="cms_download_db_explain"}
	<ul class="ipsToolList ipsToolList_horizontal ipsType_right ipsAlert_buttonRow ipsClear ipsClearFix">
		<li>
			<a href='{url="app=cms&module=databases&controller=databases&do=download&id={$database->_id}&go=true"}' class='ipsButton ipsButton_normal'>{lang="cms_download_db" sprintf="$database->_title"}</a>
		</li>
	</ul>
</div>]]></template>
 <template template_group="databases" template_name="fieldsWrapper" template_data="$tree" template_location="admin" template_app="cms"><![CDATA[<br />
<br />
<div class='acpBlock_title'>{lang="content_fields_fixed_title"}</div>
{$tree|raw}]]></template>
 <template template_group="databases" template_name="manageDatabaseName" template_data="$database, $row, $page" template_location="admin" template_app="cms"><![CDATA[{{;}}
<strong>{$database->_title}</strong>
{{if $page}}
	<a class="ipsPos_right ipsBadge ipsBadge_style1" href="{$page->url()}" target="_blank">{lang="cms_db_used_on_page" sprintf="$page->_title"}</a>
{{endif}}
<p class='ipsType_light'>{$database->_description}</p>]]></template>
 <template template_group="global" template_name="commentTableHeader" template_data="$comment, $record" template_location="front" template_app="cms"><![CDATA[{{$iposted = $record->container()->contentPostedIn();}}
{{$idField = $record::$databaseColumnId;}}
<div>
	<h3 class='ipsType_sectionHead ipsType_break'>
		{{if $record->unread()}}
			<a href='{$record->url( 'getNewComment' )}' title='{lang="first_unread_post"}' data-ipsTooltip>
				<span class='ipsItemStatus'><i class="fa {{if in_array( $record->$idField, $iposted )}}fa-star{{else}}fa-circle{{endif}}"></i></span>
			</a>
		{{else}}
			{{if in_array( $record->$idField, $iposted )}}
				<span class='ipsItemStatus ipsItemStatus_read ipsItemStatus_posted'><i class="fa fa-star"></i></span>
			{{endif}}
		{{endif}}
		<a href='{$comment->url()}' title='{lang="view_this_cmsrecord" sprintf="\IPS\Member::loggedIn()->language()->addToStack( 'content_db_lang_sl_' . $record::$customDatabaseId, FALSE ), $record->_title"}'>{wordbreak="$record->_title"}</a>
		{{if $record->container()->allow_rating}}
			{template="rating" group="global" location="front" app="core" params="'large', $record->rating_hits ? ( $record->rating_total / $record->rating_hits ) : 0"}
		{{endif}}
	</h3>
	<p class='ipsType_normal ipsType_light ipsType_blendLinks ipsType_reset'>{lang="in"} <a href='{$record->container()->url()}'>{$record->container()->_title}</a></p>
</div>]]></template>
 <template template_group="global" template_name="snippet" template_data="$activity, $type='activity'" template_location="front" template_app="cms"><![CDATA[<div class='cSearchActivity_info ipsContained'>
	{{if in_array( 'IPS\cms\Records', class_parents( $activity ) )}}
		{{if $type != 'search'}}<a href='{$activity->url()}' class='ipsType_normal ipsType_break'>{$activity->mapped('title')}</a>{{endif}}
		<div class='ipsType_medium ipsType_richText ipsContained {{if $type != 'search'}}ipsSpacer_both{{else}}ipsSpacer_bottom{{endif}} ipsSpacer_half' data-ipsTruncate data-ipsTruncate-size='3 lines' data-ipsTruncate-type='remove'>
			{$activity->truncated()|raw}
		</div>
		<ul class='ipsList_inline ipsType_light'>
			<li>{lang="replies_number" pluralize="$activity->mapped('num_comments')"}</li>
			<li>{lang="num_views_with_number" pluralize="$activity->mapped('views')"}</li>
		</ul>
	{{else}}
		<div class='ipsType_medium ipsType_richText ipsContained ipsSpacer_bottom ipsSpacer_half' data-ipsTruncate data-ipsTruncate-size='3 lines' data-ipsTruncate-type='remove'>
			{$activity->truncated()|raw}
		</div>
		{{if $type != 'search' and $activity instanceof \IPS\Content\Reputation and settings.reputation_enabled}}
			<ul class='ipsList_inline ipsType_light'>
				<li>{template="reputationMini" group="global" app="core" params="$activity, '', NULL, TRUE"}</li>
			</ul>
		{{endif}}
	{{endif}}
</div>]]></template>
 <template template_group="global" template_name="uploadDisplay" template_data="$file, $record" template_location="front" template_app="cms"><![CDATA[{{if $file->isImage()}}
	<img src="$file->url" class="ipsImage" data-ipsLightbox>
{{else}}
	{{if $record}}
		<a href="{url="applications/cms/interface/file/file.php?record={$record->_id}&database={$record::$customDatabaseId}&file=" base="none"}{expression="urlencode($file)"}">{$file->originalFilename}</a>
	{{else}}
		<a href="{$file->url}">{$file->originalFilename}</a>
	{{endif}}
{{endif}}]]></template>
 <template template_group="pages" template_name="globalWrap" template_data="$navigation, $content, $page" template_location="front" template_app="cms"><![CDATA[<div id="elCmsPageWrap" data-pageid="{$page->id}">
{$content|raw}
</div>]]></template>
 <template template_group="pages" template_name="previewTemplateLink" template_data="" template_location="admin" template_app="cms"><![CDATA[<span data-role="viewTemplate" class='ipsButton ipsButton_light ipsButton_verySmall'>{lang="cms_block_view_template"}</span>]]></template>
 <template template_group="pages" template_name="widgetContainer" template_data="$id, $widgets, $orientation='horizontal'" template_location="front" template_app="cms"><![CDATA[{{if ( ( isset( $widgets[ $id ] ) ) || \IPS\Dispatcher::i()->application->canManageWidgets() )}}
	<div class='cWidgetContainer {{if ! isset( $widgets[ $id ] )}}ipsHide{{endif}}' {{if \IPS\Dispatcher::i()->application->canManageWidgets()}}data-controller='core.front.widgets.area'{{endif}} data-role='widgetReceiver' data-orientation='{$orientation}' data-widgetArea='{$id}'>
		<ul class='ipsList_reset'>
			{{if isset( $widgets[ $id ] )}}
				{{foreach $widgets[ $id ] as $widget}}
				<li class='ipsWidget ipsWidget_{$orientation}' data-blockTitle="{$widget->title()}" data-blockID='{{if isset($widget->app)}}app_{$widget->app}_{{else}}plugin_{$widget->plugin}_{{endif}}{$widget->key}_{$widget->uniqueKey}'{{if $widget->hasConfiguration()}} data-blockConfig="true"{{endif}} data-controller='core.front.widgets.block'>{$widget|raw}</li>
				{{endforeach}}
			{{endif}}
		</ul>
	</div>
{{endif}}]]></template>
 <template template_group="records" template_name="categorySelector" template_data="$form" template_location="admin" template_app="cms"><![CDATA[
<div class='ipsPad'>
	{$form|raw}
</div>]]></template>
 <template template_group="records" template_name="categorySelector" template_data="$form" template_location="front" template_app="cms"><![CDATA[
<div class='ipsPad'>
	{$form|raw}
</div>]]></template>
 <template template_group="records" template_name="commentTemplate" template_data="$id, $action, $elements, $hiddenValues, $actionButtons, $uploadField, $class=''" template_location="front" template_app="cms"><![CDATA[<form accept-charset='utf-8' class="ipsForm {$class}" action="{$action}" method="post" {{if $uploadField}}enctype="multipart/form-data"{{endif}}>
	<input type="hidden" name="{$id}_submitted" value="1">
	{{foreach $hiddenValues as $k => $v}}
		<input type="hidden" name="{$k}" value="{$v}">
	{{endforeach}}
	{{if $uploadField}}
		<input type="hidden" name="MAX_FILE_SIZE" value="{$uploadField}">
		<input type="hidden" name="plupload" value="{expression="md5( uniqid() )"}">
	{{endif}}
	<div class='ipsComposeArea ipsComposeArea_withPhoto ipsClearfix'>
		<div class='ipsPos_left ipsResponsive_hidePhone ipsResponsive_block'>{template="userPhoto" app="core" group="global" params="\IPS\Member::loggedIn(), 'small'"}</div>
		<div class='ipsComposeArea_editor'>
			{{if !\IPS\Member::loggedIn()->member_id}}
				<div data-ipsEditor-toolList class='ipsMessage ipsMessage_info'>
					{lang="commenting_as_guest"}
				</div>
			{{endif}}
			{{foreach $elements as $collection}}
				{{foreach $collection as $input}}
					{{if $input->name == 'guest_name'}}
						<ul class='ipsForm ipsForm_horizontal'>
							<li class='ipsFieldRow ipsFieldRow_fullWidth'>{$input->html()|raw}</li>
						</ul>
					{{endif}}
				{{endforeach}}
			{{endforeach}}
			{{foreach $elements as $collection}}
				{{foreach $collection as $input}}
					{{if $input instanceof \IPS\Helpers\Form\Editor}}
						{$input->html( TRUE )|raw}
							{{if $input->error}}
							<br>
							<span class="ipsType_warning">{lang="$input->error"}</span>
						{{endif}}
					{{endif}}
				{{endforeach}}
			{{endforeach}}
			<ul class='ipsToolList ipsToolList_horizontal ipsClear ipsClearfix' data-ipsEditor-toolList>
				{{foreach $elements as $collection}}
					{{foreach $collection as $input}}
						{{if !($input instanceof \IPS\Helpers\Form\Editor) && $input->name != 'guest_name' and ! mb_stristr( $input->name, 'content_field_' )}}
							<li class='ipsPos_left ipsResponsive_noFloat {{if !($input instanceof \IPS\Helpers\Form\Captcha)}}ipsComposeArea_formControl{{endif}} ipsType_small'>{$input->html()|raw}</li>
						{{endif}}
						{{if mb_stristr( $input->name, 'content_field_' )}}
						{$input->rowHtml()|raw}
						{{endif}}
					{{endforeach}}
				{{endforeach}}
				{{foreach $actionButtons as $button}}
					<li>{$button|raw}</li>
				{{endforeach}}
			</ul>
		</div>
	</div>
</form>]]></template>
 <template template_group="records" template_name="customslug" template_data="$collection, $input, $category, $page, $database, $record" template_location="global" template_app="cms"><![CDATA[<div class="ipsJS_show" data-controller='cms.front.records.form' data-ipsTitleField="content_field_{$database->field_title}">
	{{if $collection['record_static_furl']->error}}
	<p class='ipsType_warning'><i class='fa fa-exclamation-circle'></i> {lang="$collection['record_static_furl']->error"}</p>
	{{endif}}
	<input type="checkbox" class="ipsHide" id="elInput_record_static_furl_set" name="record_static_furl_set_checkbox" {{if $collection['record_static_furl_set']->value}}checked="checked"{{endif}} value="1">
	<input type="hidden" name="record_static_furl_set" value="{{if $collection['record_static_furl_set']->value}}1{{else}}0{{endif}}">
	{lang="url"}: <span data-ipsSlugUrl>{$page->url()}</span><span data-ipsSlugCategory>{$category->full_path}</span><span data-ipsSlugSlug></span><span data-ipsSlugManual class="ipsHide">
		/ <input type="text" class='ipsField_short ipsField_tinyText' name="record_static_furl" value="{$collection['record_static_furl']->value}">
	</span><span data-ipsSlugExt>{{if $record !== NULL}}-r{$record->_id}{{else}}-r#{{endif}}</span>
	<button data-ipsChange class="ipsButton ipsButton_veryVerySmall">{lang="change"}</button>
	<button data-ipsCancel class="ipsHide ipsButton ipsButton_veryVerySmall">{lang="cancel"}</button>
</div>]]></template>
 <template template_group="records" template_name="fieldBadge" template_data="$label, $value, $classes" template_location="global" template_app="cms"><![CDATA[<span class='ipsBadge {$classes}'>{$label}: {$value|raw}</span>]]></template>
 <template template_group="records" template_name="fieldDefault" template_data="$label, $value" template_location="global" template_app="cms"><![CDATA[<span class='ipsType_reset ipsType_light'>{$label}: {$value|raw}</span>]]></template>
 <template template_group="records" template_name="soundcloud" template_data="$url, $params" template_location="global" template_app="cms"><![CDATA[<iframe {{foreach $params as $k => $v }}{$k}="{$v}" {{endforeach}} scrolling="no" frameborder="no" src="https://w.soundcloud.com/player/?url={$url}&color=ff5500"></iframe>]]></template>
 <template template_group="records" template_name="spotify" template_data="$url, $params" template_location="global" template_app="cms"><![CDATA[<iframe src="https://embed.spotify.com/?uri={$url}" {{foreach $params as $k => $v }}{$k}="{$v}" {{endforeach}} frameborder="0" allowtransparency="true"></iframe>]]></template>
 <template template_group="records" template_name="title" template_data="$row, $title" template_location="admin" template_app="cms"><![CDATA[{$title}
{{if $row['record_future_date'] or $row['record_approved'] === -1 or $row['record_approved'] === 0 or $row['record_pinned'] === 1 or $row['record_featured'] === 1}}
	<span class='ipsPos_right'>
	{{if $row['record_future_date']}}
		{{$time  = \IPS\DateTime::ts( $row['record_publish_date'] );}}
		<span class="ipsBadge ipsBadge_icon ipsBadge_small ipsBadge_warning" data-ipsTooltip title='{lang="content_future_date_blurb" sprintf="$time->localeDate(), $time->localeTime()"}'><i class='fa fa-clock-o'></i></span>
	{{endif}}
	{{if $row['record_approved'] === -1}}
		<span class="ipsBadge ipsBadge_icon ipsBadge_small ipsBadge_warning"><i class='fa fa-eye-slash'></i></span>
	{{endif}}
	{{if $row['record_approved'] === 0}}
		<span class="ipsBadge ipsBadge_icon ipsBadge_small ipsBadge_warning" data-ipsTooltip><i class='fa fa-warning'></i></span>
	{{endif}}
	{{if $row['record_pinned'] === 1}}
		<span class="ipsBadge ipsBadge_icon ipsBadge_small ipsBadge_positive" data-ipsTooltip title='{lang="pinned"}'><i class='fa fa-thumb-tack'></i></span>
	{{endif}}
	{{if $row['record_featured'] === 1}}
		<span class="ipsBadge ipsBadge_icon ipsBadge_small ipsBadge_positive" data-ipsTooltip title='{lang="featured"}'><i class='fa fa-star'></i></span>
	{{endif}}
	</span>
{{endif}}
]]></template>
 <template template_group="records" template_name="youtube" template_data="$url, $params" template_location="global" template_app="cms"><![CDATA[<div class='ipsEmbeddedVideo {{if \IPS\Settings::i()->max_video_width > 0}}ipsEmbeddedVideo_limited{{endif}}' contenteditable="false"><div><iframe id="ytplayer" type="text/html" {{foreach $params as $k => $v }}{$k}="{$v}" {{endforeach}} src="$url" frameborder="0"></iframe></div></div>]]></template>
 <template template_group="revisions" template_name="rows" template_data="$table, $headers, $rows" template_location="front" template_app="cms"><![CDATA[{{foreach $rows as $row}}
	<article class='ipsComment ipsComment_parent ipsClearfix ipsClear'>
		<div class='ipsComment_header ipsPhotoPanel ipsPhotoPanel_mini ipsPhotoPanel_notPhone'>
			{template="userPhoto" app="core" group="global" params="$row['revision_member_id'], 'mini'"}
			<div>
				<p class="ipsPos_right">
					<a href="{$table->baseUrl->setQueryString( array( 'do' => 'revisionView', 'revision_id' => $row['revision_id'], 'd' => \IPS\cms\Databases\Dispatcher::i()->databaseId ) )}">{lang="content_revision_button_view"}</a>
					&nbsp; <a data-confirm href="{$table->baseUrl->csrf()->setQueryString( array( 'do' => 'revisionDelete', 'revision_id' => $row['revision_id'], 'd' => \IPS\cms\Databases\Dispatcher::i()->databaseId, 'ajax' => \IPS\Request::i()->isAjax() ) )}">{lang="content_revision_button_delete"}</a>
				</p>
				<h3 class='ipsComment_author ipsType_sectionHead'>
					{$row['revision_member_id']->link()|raw}
				</h3>
				<p class='ipsComment_meta ipsType_light'>
					{$row['revision_date']}
				</p>
			</div>
		</div>
		<div class='ipsAreaBackground_reset ipsPad'>
			<div class='ipsType_richText'>
				{{$gotDiffs = FALSE;}}
				{{foreach $row['revision_data'] as $key => $diff}}
					{{if ! empty( $diff['diff'] )}}
						{{$gotDiffs = TRUE;}}
						<p><strong>{$diff['field']->_title}</strong></p>
						{$diff['diff']|raw}
					{{endif}}
				{{endforeach}}
				{{if ! $gotDiffs}}
				<p class="ipsMessage ipsMessage_info">{lang="record_no_revision_data"}</p>
				{{endif}}
			</div>
		</div>
	</article>
{{endforeach}}
]]></template>
 <template template_group="revisions" template_name="table" template_data="$table, $headers, $rows, $quickSearch" template_location="front" template_app="cms"><![CDATA[{{if ! \IPS\Request::i()->isAjax()}}
<div class='ipsPageHeader ipsClearfix ipsSpacer_bottom'>
	<h1 class='ipsType_pageTitle'>{lang="content_view_revisions"}</h1>
</div>
{{endif}}
<div class='ipsBox' data-baseurl='{$table->baseUrl}' data-resort='{$table->resortKey}'>
	{{if $table->title}}
		<h2 class='ipsType_sectionTitle ipsType_reset ipsClear'>{lang="$table->title"}</h2>
	{{endif}}
	{{if $table->pages > 1}}
		<div class="ipsButtonBar ipsPad_half ipsClearfix ipsClear">
			<div data-role="tablePagination">
				{template="pagination" group="global" app="core" location="global" params="$table->baseUrl, $table->pages, $table->page, $table->limit, TRUE, $table->getPaginationKey()"}
			</div>
		</div>
	{{endif}}


	{{if count( $rows )}}
		{template="$table->rowsTemplate[1]" params="$table, $headers, $rows" object="$table->rowsTemplate[0]"}
	{{else}}
	<div class='ipsType_center'>
		<p class='ipsType_large'>{lang="content_view_revisions_none"}</p>
	</div>
	{{endif}}

	{{if $table->pages > 1}}
	<div class="ipsButtonBar ipsPad_half ipsClearfix ipsClear">
		<div data-role="tablePagination">
			{template="pagination" group="global" app="core" location="global" params="$table->baseUrl, $table->pages, $table->page, $table->limit, TRUE, $table->getPaginationKey()"}
		</div>
	</div>
	{{endif}}
</div>]]></template>
 <template template_group="revisions" template_name="view" template_data="$record, $revision, $conflicts, $id, $action, $elements, $hiddenValues, $actionButtons, $uploadField, $formClass='', $attributes=array(), $sidebar=''" template_location="front" template_app="cms"><![CDATA[<div class="ipsPageHeader ipsClearfix ipsSpacer_bottom">
	<h1 class="ipsType_pageTitle">{lang="content_record_revision_title" sprintf="\IPS\DateTime::ts($revision->date)->relative(), $record->_title"}</h1>
</div>
<hr class='ipsHr'>
<br />
<form accept-charset='utf-8' action="{$action}" method="post" {{if $uploadField}}enctype="multipart/form-data"{{endif}} data-ipsForm class="{$formClass}" {{foreach $attributes as $k => $v}}{$k}="{$v}"{{endforeach}}>
	<input type="hidden" name="{$id}_submitted" value="1">
	{{foreach $hiddenValues as $k => $v}}
		{{if is_array($v)}}
			{{foreach $v as $_v}}
				<input type="hidden" name="{$k}[]" value="{$_v}">
			{{endforeach}}
		{{else}}
			<input type="hidden" name="{$k}" value="{$v}">
		{{endif}}
	{{endforeach}}
	<ol class='ipsList_reset'>
		{{foreach $conflicts as $key => $data}}
		<li>
			<h2 class="ipsType_secondaryTitle ipsType_reset ipsType_blendLinks">
				{$data['field']->_title}
			</h2>
			<ol class='ipsDataList ipsDataList_large' id='elTable_{$record->_id}' data-role="tableRows">
				<li class="ipsDataItem">
				{{if isset( $data['diff'])}}
					<div class="ipsDataItem_main ipsAreaBackground_light ipsPad_half">
						<table class="ipsTable diff restrict_height">
							<tr>
								<th><span data-conflict-id="{$key}" data-conflict-name="old">{lang="content_record_revision_title_revision"}</span></th>
								<th><span data-conflict-id="{$key}" data-conflict-name="new">{lang="content_record_revision_title_record"} </span></th>
							</tr>
						</table>
						<div data-conflict-id="{$key}">
						{$data['diff']|raw}
						</div>
						<div class="ipsAreaBackground ipsPad">
							<div class='ipsGrid'>
								<div class='ipsGrid_span6'>
									<span class='ipsButton ipsButton_light' data-conflict-name="old">
										{{foreach $elements as $collection}}
											{{foreach $collection as $name => $input}}
												{{if $name == 'conflict_' . $data['field']->id}}
													<input id='elField_{$name}' type="radio" name="{$name}" value="old" checked="checked" />
												{{endif}}
											{{endforeach}}
										{{endforeach}}
										<strong>{lang="content_conflict_use_this_revision"}</strong>
									</span>
								</div>
								<div class='ipsGrid_span6'>
									<span class='ipsButton ipsButton_light' data-conflict-name="new">
										{{foreach $elements as $collection}}
											{{foreach $collection as $name => $input}}
												{{if $name == 'conflict_' . $data['field']->id}}
													<input id='elField_{$name}'  type="radio" name="{$name}" value="new" />
												{{endif}}
											{{endforeach}}
										{{endforeach}}
										<strong>{lang="content_conflict_use_this_record"}</strong>
									</span>
								</div>
							</div>
						</div>
					</div>
				{{else}}
					<div class="ipsDataItem_main">
						{$data['revision']|raw}
					</div>
				{{endif}}
				</li>
			</ol>
		</li>
		{{endforeach}}
	</ol>	
	<div class="ipsAreaBackground_light ipsClearfix ipsPad ipsType_center">
		{expression="implode( '', $actionButtons)" raw="true"}
	</div>
</form>]]></template>
 <template template_group="submit" template_name="createRecord" template_data="$form, $category, $title" template_location="front" template_app="cms"><![CDATA[
{template="pageHeader" if="!\IPS\Request::i()->isAjax()" group="global" app="core" params="\IPS\Member::loggedIn()->language()->addToStack( $title )"}
<hr class='ipsHr'>
{$form|raw}]]></template>
 <template template_group="submit" template_name="createRecordForm" template_data="$record, $category, $hasModOptions, $id, $action, $elements, $hiddenValues, $actionButtons, $uploadField, $class=''" template_location="front" template_app="cms"><![CDATA[{{$modOptions = array( 'create_record_state', 'record_publish_date', 'record_expiry_date', 'record_on_homepage', 'record_pinned', 'record_allow_comments', 'record_comment_cutoff' );}}
<form accept-charset='utf-8' class="ipsForm {$class}" action="{$action}" method="post" {{if $uploadField}}enctype="multipart/form-data"{{endif}}>
	<input type="hidden" name="{$id}_submitted" value="1">
	{{foreach $hiddenValues as $k => $v}}
		<input type="hidden" name="{$k}" value="{$v}">
	{{endforeach}}
	{{if $uploadField}}
		<input type="hidden" name="MAX_FILE_SIZE" value="{$uploadField}">
		<input type="hidden" name="plupload" value="{expression="md5( uniqid() )"}">
	{{endif}}

	{{if $hasModOptions}}
		<div class='ipsColumns ipsColumns_collapsePhone'>
			<div class='ipsColumn ipsColumn_fluid'>
	{{endif}}

	<div class='ipsBox'>
		<h2 class='ipsType_sectionTitle ipsType_reset'>{lang="topic_details"}</h2>
		{{if count( $elements ) > 1}}
			{{if !empty( $errorTabs )}}
				<p class="ipsMessage ipsMessage_error ipsJS_show">{lang="tab_error"}</p>
			{{endif}}
			<div class='ipsTabs ipsTabs_contained ipsClearfix ipsJS_show' id='tabs_{$id}' data-ipsTabBar data-ipsTabBar-contentArea='#ipsTabs_content_{$id}'>
				<a href='#tabs_{$id}' data-action='expandTabs'><i class='fa fa-caret-down'></i></a>
				<ul role='tablist'>
					{{foreach $elements as $name => $content}}
						<li>
							<a href='#ipsTabs_tabs_{$id}_{$id}_tab_{$name}_panel' id='{$id}_tab_{$name}' class="ipsTabs_item" role="tab">
								{lang="$name"}
							</a>
						</li>
					{{endforeach}}
				</ul>
			</div>
			<div id='ipsTabs_content_{$id}' class='ipsTabs_panels ipsTabs_contained'>
				{{foreach $elements as $name => $contents}}
					<div id='ipsTabs_tabs_{$id}_{$id}_tab_{$name}_panel' class="ipsTabs_panel ipsPad" aria-labelledby="{$id}_tab_{$name}" aria-hidden="false">
						
						{{if $hasModOptions && $name == 'topic_mainTab'}}
							<div class='ipsColumns ipsColumns_collapsePhone'>
								<div class='ipsColumn ipsColumn_fluid'>
						{{endif}}
							<ul class='ipsForm ipsForm_vertical'>
								{{foreach $contents as $inputName => $input}}
									{{if !in_array( $inputName, $modOptions )}}
										{$input|raw}
									{{endif}}
								{{endforeach}}
							</ul>
						{{if $hasModOptions && $name == 'topic_mainTab'}}
								</div>
								<div class='ipsColumn ipsColumn_wide'>
									<h2 class='ipsType_sectionTitle ipsType_reset'>{lang="topic_moderator_options"}</h2>
									<div class='ipsAreaBackground_light ipsPad'>
										<ul class='ipsForm ipsForm_vertical'>
											{{foreach $elements as $collection}}
												{{foreach $collection as $inputName => $input}}
													{{if in_array( $inputName, $modOptions )}}
														{$input|raw}
													{{endif}}
												{{endforeach}}
											{{endforeach}}
										</ul>
									</div>
								</div>
							</div>
						{{endif}}
					</div>
				{{endforeach}}
			</div>		
		{{else}}
			<div class='ipsPad'>
				{{if $hasModOptions}}
					<div class='ipsColumns ipsColumns_collapsePhone'>
						<div class='ipsColumn ipsColumn_fluid'>
				{{endif}}
					<ul class='ipsForm ipsForm_vertical'>
						{{foreach $elements as $collection}}
							{{foreach $collection as $inputName => $input}}
								{{if !in_array( $inputName, $modOptions )}}
									{$input|raw}
								{{endif}}
							{{endforeach}}
						{{endforeach}}
					</ul>
				{{if $hasModOptions}}
						</div>
						<div class='ipsColumn ipsColumn_wide'>
							<h2 class='ipsType_sectionTitle ipsType_reset'>{lang="topic_moderator_options"}</h2>
							<div class='ipsAreaBackground_light ipsPad'>
								<ul class='ipsForm ipsForm_vertical'>
									{{foreach $elements as $collection}}
										{{foreach $collection as $inputName => $input}}
											{{if in_array( $inputName, $modOptions )}}
												{$input|raw}
											{{endif}}
										{{endforeach}}
									{{endforeach}}
								</ul>
							</div>
						</div>
					</div>
				{{endif}}
			</div>
		{{endif}}
		<div class='ipsAreaBackground ipsPad ipsType_center'>
			<button type='submit' class='ipsButton ipsButton_large ipsButton_primary'>{lang="content_record_form_save"}</button>
		</div>
	</div>
</form>]]></template>
 <template template_group="submit" template_name="topic" template_data="$record" template_location="front" template_app="cms"><![CDATA[{{foreach $record->topicFields() as $id => $field}}
{$field|raw}
{{endforeach}}
<br>
<p><a href="{$record->url()}">{lang="content_view_record" sprintf="$record::database()->recordWord( 1 )"}</a></p>]]></template>
 <template template_group="templates" template_name="addForm" template_data="$formHTML, $type" template_location="admin" template_app="cms"><![CDATA[<div data-controller='core.admin.templates.addForm' data-type='$type'>
	{$formHTML|raw}
</div>]]></template>
 <template template_group="templates" template_name="editor" template_data="$templates, $current" template_location="admin" template_app="cms"><![CDATA[<div class='ipsTabs_panel' data-role="templatePanel" id='ipsTabs_elTemplateEditor_tabbar_tab_{$current->key}_panel' data-fileid="{$current->key}" data-location="{$current->location}" data-group="{$current->group}" data-name="{$current->title}" data-type='{$current->type}' data-itemID='{$current->id}' data-inherited-value="{$current->_inherited}">
	<input data-role="group" type="text" name="group_{$current->key}" class='ipsJS_hide' value="{$current->group}">
	<input data-role="variables" type="text" name="variables_{$current->key}" class="ipsField_fullWidth" value='{$current->params}' placeholder="{lang="skin_set_template_templatevars"}">
	<input data-role="title" type="text" name="title_{$current->key}" class="ipsJS_hide ipsField_fullWidth" value='{$current->title}' placeholder="{lang="content_template_editor_fields_title"}">
	<textarea name="description_{$current->key}" class="ipsJS_hide" data-role="description">{$current->description}</textarea>
	<textarea name="editor_{$current->key}" id="editor_{$current->key}" data-role="editor">{$current->content}</textarea>
</div>]]></template>
 <template template_group="templates" template_name="menu" template_data="$templates, $current, $request" template_location="admin" template_app="cms"><![CDATA[<ul class='cTemplateList ipsList_reset' data-type='{$current->type}'>
	{{foreach $templates as $type => $data}}
	<li {{if $type == $request['t_location']}}class="cTemplateList_activeBranch"{{else}}class="cTemplateList_inactiveBranch"{{endif}} data-node="top" data-location="{$type}">
		<a href='{url="app=cms&module=pages&controller=templates&t_location={$type}"}' data-action="toggleBranch">{lang="content_template_type_{$type}"}</a>
		<ul class='ipsList_reset'>
			{{if isset( $templates[ $type ] ) and is_array( $templates[ $type ] )}}
				{{foreach $templates[ $type ] as $group => $childTemplates}}
					<li {{if $request['t_group'] == $group}}class="cTemplateList_activeBranch"{{else}}class="cTemplateList_inactiveBranch"{{endif}} data-group="{$group}">
						<a href='{url="app=cms&module=pages&controller=templates&t_location={$type}&t_group={$group}"}' data-action="toggleBranch">{expression="\IPS\cms\Templates::readableGroupName( $group )"}</a>
						<ul class='ipsList_reset'>
							{{foreach $childTemplates as $key => $child}}
								<li {{if $request['t_key'] == $child->key && !\IPS\Request::i()->isAjax()}}class="cTemplateList_activeNode"{{endif}}>
									<a data-type="{$child->type}" data-location="{$child->location}" href='{url="app=cms&module=pages&controller=templates&t_location={$child->location}&t_group={$child->group}&t_key={$child->key}"}' data-action="openFile" data-group="{$child->group}" data-name="{$child->title}" data-inherited-value="$child->_inherited" data-key="{$child->key}" data-itemID="{$child->id}">{$child->title}</a>
								</li>
							{{endforeach}}
						</ul>
					</li>
				{{endforeach}}
			{{endif}}
		</ul>
	</li>
	{{endforeach}}
</ul>]]></template>
 <template template_group="templates" template_name="templates" template_data="$templates, $current, $request" template_location="admin" template_app="cms"><![CDATA[
<form accept-charset='utf-8' action="{url="app=cms&module=pages&controller=templates&do=save"}" method="POST" id="editorForm">
	<input type="hidden" name="t_location" value="{$current->location}">
	<input type="hidden" name="t_key" value="{$current->key}">
	<input type="hidden" name="t_id" value="{$current->id}">
	
	<div class='ipsAreaBackground ipsPad' id='elTemplateEditor' data-controller='cms.admin.templates.main' data-normalURL="{url="app=cms&module=pages&controller=templates"}" data-ajaxURL="{url="app=cms&module=pages&controller=ajax"}">
		<div class='ipsColumns'>
			<div class='ipsColumn ipsColumn_wide' data-role="fileList" data-controller='cms.admin.templates.fileList'>
				<ul class='ipsList_inline ipsClearfix'>
					<li><a href='#elTemplateEditor_newItemMenu_menu' id='elTemplateEditor_newItemMenu' class='ipsButton ipsButton_normal ipsButton_small' data-ipsMenu>{lang="theme_template_new"} &nbsp;<i class='fa fa-caret-down'></i></a></li>
				</ul>
				<ul id='elTemplateEditor_newItemMenu_menu' role='menu' class='ipsMenu ipsMenu_auto ipsMenu_withStem ipsHide'>
					<li class='ipsMenu_item'><a role='menuitem' href='{url="app=cms&module=pages&controller=templates&do=addTemplate&type=block"}' data-ipsDialog data-ipsDialog-forceReload data-ipsDialog-title='{lang="content_template_add_template_block_title"}'>{lang="content_template_add_template_block"}</a></li>
					<li class='ipsMenu_item'><a role='menuitem' href='{url="app=cms&module=pages&controller=templates&do=addTemplate&type=page"}' data-ipsDialog data-ipsDialog-forceReload data-ipsDialog-title='{lang="content_template_add_template_page_title""}'>{lang="content_template_add_template_page"}</a></li>
					<li class='ipsMenu_item'><a role='menuitem' href='{url="app=cms&module=pages&controller=templates&do=addTemplate&type=database"}' data-ipsDialog data-ipsDialog-forceReload data-ipsDialog-title='{lang="content_template_add_template_database_title""}'>{lang="content_template_add_template_database"}</a></li>
					<li class='ipsMenu_item'><a role='menuitem' href='{url="app=cms&module=pages&controller=templates&do=addTemplate&type=css"}' data-ipsDialog data-ipsDialog-forceReload data-ipsDialog-title='{lang="content_template_add_template_css_title""}'>{lang="content_template_add_template_css"}</a></li>
					<li class='ipsMenu_item'><a role='menuitem' href='{url="app=cms&module=pages&controller=templates&do=addTemplate&type=js"}' data-ipsDialog data-ipsDialog-forceReload data-ipsDialog-title='{lang="content_template_add_template_js_title""}'>{lang="content_template_add_template_js"}</a></li>
				</ul>
				<div class='ipsAreaBackground_reset'>
					<ul class='ipsTabs ipsClearfix' id='elTemplateEditor_typeTabs' data-ipsTabBar data-ipsTabBar-contentArea='#elTemplateEditor_fileList' data-ipsTabBar-updateURL='false'>
						<li><a href='{url="app=cms&module=pages&controller=templates&do=manage&t_type=templates"}' class='ipsTabs_item {{if $current->type == 'templates'}}ipsTabs_activeItem{{endif}}' data-tabURL='{url="app=cms&module=pages&controller=ajax&do=loadMenu&t_type=templates"}' data-type='templates'>{lang="theme_html"}</a></li>
						<li><a href='{url="app=cms&module=pages&controller=templates&do=manage&t_type=css"}' class='ipsTabs_item {{if $current->type == 'css'}}ipsTabs_activeItem{{endif}}' data-tabURL='{url="app=cms&module=pages&controller=ajax&do=loadMenu&t_type=css"}' data-type='css'>{lang="theme_css"}</a></li>
						<li><a href='{url="app=cms&module=pages&controller=templates&do=manage&t_type=js"}' class='ipsTabs_item {{if $current->type == 'js'}}ipsTabs_activeItem{{endif}}' data-tabURL='{url="app=cms&module=pages&controller=ajax&do=loadMenu&t_type=js"}' data-type='css'>{lang="theme_js"}</a></li>
					</ul>
					<section id='elTemplateEditor_fileList'>
						{template="menu" params="$templates, $current, $request" app="cms" location="admin" group="templates"}
					</section>
				</div>
			</div>
			<div class='ipsColumn ipsColumn_fluid'  data-controller='cms.admin.templates.fileEditor'>
				<ul class='ipsList_inline ipsClearfix' id='elTemplateEditor_panelToolbar'>
					<li class='ipsPos_right'>
						<a href='#' id='elTemplateEditor_variables' class='ipsButton ipsButton_veryLight ipsButton_small' data-ipsDialog data-ipsDialog-title='{lang="content_template_editor_fields_title"}' data-ipsDialog-content="#elTemplateEditor_attributesDialog" data-ipsDialog-size='narrow'>{lang="theme_attributes"}</a>
					</li>
					<li class='ipsPos_right'>
						<a href='{url="app=cms&module=pages&controller=templates&do=deleteTemplate&t_location={$current->location}&t_id={$current->id}"}' class='ipsButton ipsButton_veryLight ipsButton_small {{if $current->user_edited == 'original'}}ipsButton_disabled{{endif}}' data-action="revert">{{if ! $current->user_edited}}{lang="delete"}{{else}}{lang="revert"}{{endif}}</a>
					</li>
					<li>
						<button type='submit' class='ipsButton ipsButton_primary ipsButton_small' data-action="save">{lang="save"}</button>
					</li>					
					<li>
						<span data-role='loading' class='ipsHide'><i class='icon-spinner2 ipsLoading_tinyIcon'></i>  &nbsp;{lang="loading"}</span>
					</li>
				</ul>
				<br>
				<div id='elTemplateEditor_outerPanelWrap'>
					<div id='elTemplateEditor_panelWrap'>
						<ul id='elTemplateEditor_tabbar' class='ipsTabs ipsClearfix' data-ipsTabBar data-ipsTabBar-contentArea='#elTemplateEditor_panels'>
							<li data-fileid='{$current->key}' data-type="{$current->type}" data-location='{$current->location}' data-group="{$current->group}">
								<a href='#' class='ipsTabs_item' id='tab_{$current->key}'>{$current->title} <span data-action='closeTab'><i class='fa fa-times'></i></span></a>
							</li>
						</ul>
						<section data-role="templatePanelWrap" id='elTemplateEditor_panels' data-haseditor="{{if $current->id}}true{{else}}false{{endif}}">
							{template="editor" params="$templates, $current" app="cms" location="admin" group="templates"}
						</section>
					</div>
				</div>
			</div>
		</div>
		<br>
		<ul class='ipsList_inline ipsType_light ipsType_small'>
			<li class='cTemplateState_changed'> {lang="content_templates_modified"}</li>
			<li class='cTemplateState_custom'> {lang="content_templates_custom"}</li>
		</ul>
		<div id='elTemplateEditor_attributesDialog' class='ipsHide'>
			<div data-controller='cms.admin.templates.variablesDialog'>
				<div class='ipsPad'>
					<p class='ipsType_textBlock' id='elTemplateEditor_attributes_title'>
						{lang="content_template_editor_fields_params"}
					</p>
					<input class='ipsField_fullWidth' data-role='variables' placeholder="&#36;foo=''">
					<p class='ipsType_textBlock' id='elTemplateEditor_title_title'>
						{lang="content_template_editor_fields_title"}
					</p>
					<input class='ipsField_fullWidth' data-role='title'>
					<p class='ipsType_textBlock' id='elTemplateEditor_group_title'>
						{lang="content_template_editor_fields_container"}
					</p>
					{{foreach array('block','page', 'database') as $type }}
						<select id="elContainer_{$type}_hidden" class='ipsHide' name="group" data-role="group" data-container-type="{$type}">
						{{foreach \IPS\cms\Templates::getGroups( $type ) as $groupName}}
							<option value="{$groupName}">{expression="\IPS\cms\Templates::readableGroupName( $groupName )"}</option>
						{{endforeach}}
						</select>
					{{endforeach}}
					<p class='ipsType_textBlock ipsHide'>
						{lang="content_template_editor_fields_desc"}
					</p>
					<textarea class='ipsHide ipsField_fullWidth' data-role='description'></textarea>
					<input type='hidden' name='_variables_fileid' value=''>
					<input type='hidden' name='_variables_location' value=''>
				</div>
				<div class='ipsPad ipsAreaBackground ipsType_right'>
					<input type='submit' class='ipsButton ipsButton_primary' value='{lang="save"}'>
				</div>
			</div>
		</div>
	</div>
</form>]]></template>
 <template template_group="templates" template_name="viewTemplate" template_data="$template" template_location="admin" template_app="cms"><![CDATA[<div class='ipsPad'>
	<strong>{lang="content_template_editor_fields_params"}:</strong> <span class='ipsType_monospace'>{$template['template_params']}</span>
	<pre data-controller='core.global.editor.customtags' class='ipsType_monospace ipsTemplate_box' data-control="codemirror" data-mode="htmlmixed">
		{$template['template_content']}
	</pre>
</div>]]></template>
 <template template_group="widgets" template_name="Blocks" template_data="$content" template_location="front" template_app="cms">{$content|raw}

</template>
 <template template_group="widgets" template_name="Categories" template_data="$url" template_location="front" template_app="cms"><![CDATA[{{$catClass = '\IPS\cms\Categories' . \IPS\cms\Databases\Dispatcher::i()->databaseId;}}
{{$categories = $catClass::roots();}}
{{if !empty( $categories )}}
<div class='ipsBox'>
	<h3 class='ipsWidget_title ipsType_reset'>{lang="categories"}</h3>
	<div class='ipsSideMenu ipsAreaBackground_reset ipsPad_half'>
		<ul class='ipsSideMenu_list'>
			{{foreach $categories as $category}}
				<li>
					<a href="{$category->url()}" class='ipsSideMenu_item ipsTruncate ipsTruncate_line'><span class='ipsBadge ipsBadge_style1 ipsPos_right'>{expression="\IPS\cms\Records::contentCount( $category )"}</span><strong class='ipsType_normal'>{$category->_title}</strong></a>
					{{if $category->hasChildren()}}
						<ul class="ipsSideMenu_list">
							{{foreach $category->children() as $idx => $subcategory}}
								<li>
									{{if $idx >= 5}}
										<a href='{$category->url()}' class='ipsSideMenu_item'><span class='ipsType_light ipsType_small'>{lang="and_x_more" sprintf="count( $category->children() ) - 5"}</span></a>
										{{break;}}
									{{else}}
										<a href="{$subcategory->url()}" class='ipsSideMenu_item ipsTruncate ipsTruncate_line'><strong class='ipsPos_right ipsType_small'>{expression="\IPS\cms\Records::contentCount( $subcategory )"}</strong>{$subcategory->_title}</a>
									{{endif}}
								</li>
							{{endforeach}}
						</ul>
					{{endif}}
				</li>
			{{endforeach}}
		</ul>
		<p class='ipsType_center'>
			<a href='{$url->setQueryString('show','categories')}' class=''>{lang="cms_show_categories"} &nbsp;<i class='fa fa-caret-right'></i></a>
		</p>
	</div>
</div>
{{endif}}]]></template>
 <template template_group="widgets" template_name="Database" template_data="$database" template_location="front" template_app="cms"><![CDATA[{database="$database->id" title="$database->title"}]]></template>
 <template template_group="widgets" template_name="DatabaseFilters" template_data="$database, $category, $form, $orientation='vertical'" template_location="front" template_app="cms"><![CDATA[<h3 class='ipsWidget_title ipsType_reset'>{lang="block_DatabaseFilters_title" sprintf="$category->_title"}</h3>
<div class='ipsWidget_inner ipsPad'>
	{$form|raw}
</div>

]]></template>
 <template template_group="widgets" template_name="Editor" template_data="$content, $orientation='horizontal'" template_location="front" template_app="cms"><![CDATA[<div class='ipsWidget_inner {{if $orientation == 'vertical'}}ipsPad{{endif}}'>
	{$content|raw}
</div>
]]></template>
 <template template_group="widgets" template_name="RecordFeed" template_data="$database, $records, $orientation='vertical'" template_location="front" template_app="cms"><![CDATA[{{if !empty( $records ) }}
	<h3 class='ipsWidget_title ipsType_reset'>{lang="block_latest_records" sprintf="$database->recordWord( 2, TRUE )"}</h3>
	{{if $orientation == 'vertical'}}
		<div class='ipsPad_half ipsWidget_inner'>
			<ul class='ipsDataList ipsDataList_reducedSpacing'>
				{{foreach $records as $record}}
					<li class='ipsDataItem'>
						<div class='ipsDataItem_icon ipsPos_top'>
							{template="userPhoto" group="global" app="core" params="$record->author(), 'tiny'"}
						</div>
						<div class='ipsDataItem_main'>
							<div class="ipsCommentCount ipsPos_right {{if ( $record->record_comments ) === 0}}ipsFaded{{endif}}" data-ipsTooltip title='{lang="replies_number" pluralize="$record->record_comments"}'>{expression="$record->record_comments"}</div>
							<a href="{$record->url()->setQueryString( 'do', 'getLastComment' )}" title='{lang="view_this_cmsrecord" sprintf="\IPS\Member::loggedIn()->language()->addToStack( 'content_db_lang_sl_' . $record::$customDatabaseId, FALSE ), $record->_title"}' class='ipsDataItem_title ipsType_break'>{wordbreak="$record->_title"}</a><br>
							<span class='ipsType_light ipsType_small'>{lang="byline_nodate" htmlsprintf="$record->author()->link()"} &middot; {datetime="$record->mapped('date')"}</span>
						</div>
					</li>
				{{endforeach}}
			</ul>
		</div>
	{{else}}
		<div class='ipsWidget_inner'>
			<ul class='ipsDataList'>
				{template="recordRow" group="listing" location="database" app="cms" themeClass="IPS\cms\Theme" params="null, null, $records"}
			</ul>
		</div>
	{{endif}}
{{endif}}]]></template>
 <template template_group="widgets" template_name="Rss" template_data="$items, $title, $orientation='vertical'" template_location="front" template_app="cms"><![CDATA[{{if !empty( $items ) }}
	<h3 class='ipsWidget_title ipsType_reset'>{$title}</h3>
		<div class='ipsPad_half ipsWidget_inner'>
			<ul class='ipsDataList ipsDataList_reducedSpacing'>
				{{foreach $items as $item}}
					<li class='ipsDataItem'>
						<div class='ipsDataItem_main'>
							<a href="{$item['link']}" target="_blank" class='ipsDataItem_title ipsType_break'>{wordbreak="$item['title']"}</a><br>
							<span class='ipsType_light ipsType_small'>{datetime="$item['date']"}</span>
						</div>
					</li>
				{{endforeach}}
			</ul>
		</div>
{{endif}}]]></template>
 <template template_group="widgets" template_name="Wysiwyg" template_data="$content, $orientation='horizontal'" template_location="front" template_app="cms"><![CDATA[<div class='ipsWidget_inner {{if $orientation == 'vertical'}}ipsPad{{endif}}'>
	{$content|raw}
</div>
]]></template>
 <css css_location="admin" css_app="cms" css_attributes="" css_path="blocks" css_name="form.css">/* ----- */
#elPages_block_preview_wrapper {
	background: transparent;
	z-index: 1;
}

#elpages_block_preview {
	width: 100%;
	min-width: 450px;
	min-height: 230px;
	margin: 10px 0;
	border: 1px solid rgba(0,0,0,0.1);
	position: relative;
	background-color: #fcfcfc;
	background-repeat: no-repeat;
	background-position: center center;
	background-size: 40px 40px;
	background-image: none;
	z-index: 0;
}</css>
 <css css_location="front" css_app="cms" css_attributes="" css_path="database_index" css_name="featured.css">/* ----- */
.cCmsCategoryFeaturedEntry
{
	border-bottom: 2px solid #ebebeb;
	padding: 20px 0 30px 0;
}

	.cCmsCategoryFeaturedEntry:last-child
	{
		border-bottom: 0px;
		padding-bottom: 0px;
	}

.cCmsCategoryFeaturedEntry .cCmsRecord_image
{
	max-height: 200px;
	max-width: 200px;
	float: left;
	margin-right: 6px;
	margin-top: 4px;
}

	.cCmsCategoryFeaturedEntry .cCmsRecord_image img {
		max-width: 200px;
		max-height: 200px;
	}
	
.ipsDataItem_meta span.ipsBadge.ipsPos_right {
	margin-left: 4px;
	float:  none;
}</css>
 <css css_location="front" css_app="cms" css_attributes="" css_path="pages" css_name="page.css">/* ----- */

.ipsWidget.ipsWidget_horizontal[data-blockid^=&quot;app_cms&quot;]:not(.ipsBox) {
	padding: 0px !important;
}</css>
 <css css_location="front" css_app="cms" css_attributes="" css_path="records" css_name="form.css">/* ----- */

.cCreateTopic_date input {
	max-width: 100% !important;
	width: 100% !important;
	margin-bottom: 7px;
	padding-left: 35px !important;
}

.cCreateTopic_date li {
	position: relative;
}

.cCreateTopic_date i {
	position: absolute;
	left: 10px;
	top: 10px;
	font-size: 18px;
}</css>
 <css css_location="front" css_app="cms" css_attributes="" css_path="records" css_name="index.css">/* ----- */
.cCmsDatabase_index h4.ipsDataItem_title {
	font-size: 16px;
}

.cCmsDatabase_index .ipsDataItem_main {
	vertical-align: middle;
}</css>
 <css css_location="front" css_app="cms" css_attributes="" css_path="records" css_name="list.css">/* ----- */
.cCmsListing .ipsDataItem_lastPoster {
	padding: 10px 0;
	vertical-align: top;
}

.cCmsRecord_row h4.ipsDataItem_title {
	font-size: 14px !important;
	display: inline;
}

.ipsDataItem_main span.ipsBadge.ipsPos_right {
	margin-left: 4px;
}</css>
 <css css_location="front" css_app="cms" css_attributes="" css_path="records" css_name="record.css">/* ----- */
.cCmsRecord_image {
	float: left;
	max-width: 300px;
	max-height: 300px;
	margin-right: 8px;
	margin-bottom: 8px;
}

	.cCmsRecord_image img {
		max-width: 300px;
		max-height: 300px;
	}

div[data-controller=&quot;core.front.core.commentsWrapper&quot;] .ipsTabs {
	margin: 0px !important;
}

.ipsList_inline span.ipsBadge.ipsPos_right {
	margin-left: 4px;
}</css>
 <css css_location="admin" css_app="cms" css_attributes="" css_path="templates" css_name="templates.css"><![CDATA[/* ----- */

html[dir="ltr"] #elTemplateEditor_panelWrap,
html[dir="ltr"] #elTemplateEditor_panelToolbar {
	margin-left: 15px;
}
html[dir="rtl"] #elTemplateEditor_panelWrap,
html[dir="rtl"] #elTemplateEditor_panelToolbar {
	margin-right: 15px;
}

#elTemplateEditor .ipsTabs {
	background: #d6d6d6;
	padding: 0;
}
	
	#elTemplateEditor .ipsTabs_item {
		border: 0 !important;
		text-overflow: clip !important;
	}

#elTemplateEditor [data-role="editor"],
#elTemplateEditor .CodeMirror {
	border-width: 0px !important;
	border-radius: 0px !important;
}

#elTemplateEditor [data-role="editor"] {
	font-family: monospace;
	font-size: 13px;
}

#elTemplateEditor [data-role="templateToolbar"] {
	margin-bottom: 15px;
}

#elTemplateEditor_panelWrap {
	position: absolute;
	top: 0px;
	left: 0;
	bottom: 0;
	right: 0;
}

#elTemplateEditor_outerPanelWrap {
	position: relative;
	height: 590px;
}

#elTemplateEditor [data-role="templatePanelWrap"] {
	width: 100%;
	background-color: #fff;
	position: absolute;
	top: 38px;
	left: 0;
	right: 0;
	bottom: 0;
}

	#elTemplateEditor [data-role="templatePanelWrap"] textarea {
		height: 550px;
	}

#elTemplateEditor [data-action="closeTab"] {
	font-size: 12px;
	color: #b4b4b4;
}
	
	html[dir="ltr"] #elTemplateEditor [data-action="closeTab"] {
		margin: 0 -5px 0 3px;
	}
	html[dir="rtl"] #elTemplateEditor [data-action="closeTab"] {
		margin: 0 3px 0 -5px;
	}

	#elTemplateEditor [data-action="closeTab"]:hover,
	#elTemplateEditor [data-state="unsaved"] [data-action="closeTab"] {
		color: #333;
	}

/* FILE LISTING STYLES */
#elTemplateEditor_fileList {
	height: 550px;
	overflow: auto;
}

#elTemplateEditor [data-role="fileList"] .ipsTabs {
	margin-top: 15px;
}

#elTemplateEditor [data-role="fileList"] .ipsTabs_item {
	width: 33.3%;
	text-align: center;
}

.cTemplateList a {
	padding: 5px 0;
	display: block;
	position: relative;
	color: #333;
}

.cTemplateList li {
	background-color: #ffffff;
}

.cTemplateList li[data-node=top] {
	background-color: #f5f5f5;
}


.cTemplateList li.cTemplateList_inactiveBranch > a:before,
.cTemplateList li.cTemplateList_activeBranch > a:before {
	font-family: 'FontAwesome';
	display: inline-block;	
	line-height: 6px;
	font-size: 14px;
}
	html[dir="ltr"] .cTemplateList li.cTemplateList_inactiveBranch > a:before,
	html[dir="ltr"] .cTemplateList li.cTemplateList_activeBranch > a:before {
		content: '\f0da';
		margin-right: 7px;
	}
	html[dir="rtl"] .cTemplateList li.cTemplateList_inactiveBranch > a:before,
	html[dir="rtl"] .cTemplateList li.cTemplateList_activeBranch > a:before {
		content: '\f0d9';
		margin-left: 7px;
	}

	html[dir="ltr"] .cTemplateList li.cTemplateList_activeBranch > a:before,
	html[dir="rtl"] .cTemplateList li.cTemplateList_activeBranch > a:before {
		content: '\f0d7';
	}

.cTemplateList li.cTemplateList_inactiveBranch > ul {
	display: none;
}

html[dir="ltr"] .cTemplateList li a {
	padding-left: 15px;
}
html[dir="rtl"] .cTemplateList li a {
	padding-right: 15px;
}

html[dir="ltr"] .cTemplateList li li a {
	padding-left: 30px;
}
html[dir="rtl"] .cTemplateList li li a {
	padding-right: 30px;
}

	html[dir="ltr"] .cTemplateList li li li a {
		padding-left: 45px;
	}
	html[dir="rtl"] .cTemplateList li li li a {
		padding-right: 45px;
	}

		html[dir="ltr"] .cTemplateList li li li li a {
			padding-left: 70px;
		}
		html[dir="rtl"] .cTemplateList li li li li a {
			padding-right: 70px;
		}

.cTemplateList li.cTemplateList_activeNode > a {
	background: #748391;
	color: #fff;
}

.cTemplateList li:not( .cTemplateList_activeNode ) > a:hover {
	background: #fafafa;
}

/* INHERITED VALUES */
a[data-inherited-value]:after {
	position: absolute;
	margin-top: 2px;
}

	html[dir="ltr"] a[data-inherited-value]:after {
		right: 5px;
	}
	html[dir="rtl"] a[data-inherited-value]:after {
		left: 5px;
	}

li[class^="cTemplateState_"]:before {
	display: inline-block;
	color: #fff !important;
}

a[data-inherited-value]:after, li[class^="cTemplateState_"]:before {
	font-size: 9px;
	font-weight: bold;
	text-transform: uppercase;
	font-family: monospace;
	padding: 0 5px;
	color: #b3b3b3;
	line-height: 14px;
	border-radius: 10px;
	opacity: 0.1;
	{prefix="transition" value="0.4s all linear"}
}

a[data-inherited-value="original"]:after {
	display: none;
}

	.cTemplateList:hover a[data-inherited-value]:after, li[class^="cTemplateState_"]:before {
		opacity: 1;
	}

.cTemplateList a[data-inherited-value="custom"]:after, .cTemplateState_custom:before {
	content: 'C';
	background: #c9c030;
	color: #fff;
}

.cTemplateList a[data-inherited-value="inherit"]:after, .cTemplateState_inherit:before {
	content: 'I';
	background: #83b256;
	color: #fff;
}

.cTemplateList a[data-inherited-value="changed"]:after, .cTemplateState_changed:before {
	content: 'M';
	background: #c93054;
	color: #fff;
}]]></css>
 <css css_location="admin" css_app="cms" css_attributes="" css_path="templates" css_name="view.css">/* ----- */
.ipsTemplate_box {
	max-height: 300px;
	overflow: auto;
	border: 1px solid #ededed;
}</css>
</theme>
